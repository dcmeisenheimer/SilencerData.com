@inject NavigationManager NavigationManager

<MudNavMenu>
    <MudNavLink Href="" Match="NavLinkMatch.All" Icon="@Icons.Material.Filled.Home">Home</MudNavLink>
    <MudNavLink Href="silencer-catalog" Match="NavLinkMatch.Prefix" Icon="@Icons.Material.Filled.List">Silencer Catalog</MudNavLink>
    <MudNavLink Href="silencer-matchmaker" Match="NavLinkMatch.Prefix" Icon="@Icons.Material.Filled.FindReplace">Silencer Matchmaker</MudNavLink>
    <MudNavLink Href="about" Match="NavLinkMatch.Prefix" Icon="@Icons.Material.Filled.Info">About</MudNavLink>
    <MudNavLink Href="contact" Match="NavLinkMatch.Prefix" Icon="@Icons.Material.Filled.Email">Contact</MudNavLink>
</MudNavMenu>

@code {
    private string _currentUrl = "";

    protected override void OnInitialized()
    {
        _currentUrl = NavigationManager.Uri;
        NavigationManager.LocationChanged += OnLocationChanged;
    }

    private void OnLocationChanged(object sender, LocationChangedEventArgs e)
    {
        _currentUrl = e.Location;
        StateHasChanged();
    }

    public void Dispose()
    {
        NavigationManager.LocationChanged -= OnLocationChanged;
    }
}